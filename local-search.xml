<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>python_Ycombination</title>
    <link href="/2023/04/05/python-Ycombination/"/>
    <url>/2023/04/05/python-Ycombination/</url>
    
    <content type="html"><![CDATA[<h1 id="å…³äºpythonä¸­Yç»„åˆå­çš„é—®é¢˜è®¨è®º"><a href="#å…³äºpythonä¸­Yç»„åˆå­çš„é—®é¢˜è®¨è®º" class="headerlink" title="å…³äºpythonä¸­Yç»„åˆå­çš„é—®é¢˜è®¨è®º"></a>å…³äºpythonä¸­Yç»„åˆå­çš„é—®é¢˜è®¨è®º</h1><blockquote><p>by Wenze Jin</p></blockquote><p>åœ¨ <em><strong>The Structure and Interpretation of Computer Programs</strong></em> è¿™é—¨è¯¾çš„hw03-Recursionä¸­æœ‰å¦‚ä¸‹çš„ <em><strong>JUST FOR FUN</strong></em>æ‹“å±•é—®é¢˜ï¼Œå€¼å¾—ç ”ç©¶ã€‚</p><p>[TOC]</p><h2 id="Problem-7-Anonymous-factorial"><a href="#Problem-7-Anonymous-factorial" class="headerlink" title="Problem 7: Anonymous factorial"></a><a href="https://sicp.pascal-lab.net/2022/homework/hw03/3_1.html#problem-7-anonymous-factorial-0pts">Problem 7: Anonymous factorial</a></h2><p>The recursive factorial function can be written as a single expression by using a <a href="http://docs.python.org/py3k/reference/expressions.html#conditional-expressions">conditional expression</a>.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>fact = <span class="hljs-keyword">lambda</span> n: <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> mul(n, fact(sub(n, <span class="hljs-number">1</span>)))<br><span class="hljs-meta">&gt;&gt;&gt; </span>fact(<span class="hljs-number">5</span>)<br><span class="hljs-number">120</span><br></code></pre></td></tr></table></figure><blockquote><p>The ternary operator <code>&lt;a&gt; if &lt;bool-exp&gt; else &lt;b&gt;</code> evaluates to <code>&lt;a&gt;</code> if <code>&lt;bool-exp&gt;</code> is truthy and evaluates to <code>&lt;b&gt;</code> if <code>&lt;bool-exp&gt;</code> is false-y.</p></blockquote><p>However, this implementation relies on the fact (no pun intended) that <code>fact</code> has a name, to which we refer in the body of <code>fact</code>. To write a recursive function, we have always given it a name using a <code>def</code> or assignment statement so that we can refer to the function within its own body. In this question, your job is to define fact recursively without giving it a name!</p><p>Write an expression that computes <code>n</code> factorial using only call expressions, conditional expressions, and lambda expressions (no assignment or def statements). <em>Note in particular that you are not allowed to use <code>make_anonymous_factorial</code> in your return expression.</em> The <code>sub</code> and <code>mul</code> functions from the <code>operator</code> module are the only built-in functions required to solve this problem:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> operator <span class="hljs-keyword">import</span> sub, mul<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">make_anonymous_factorial</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;Return the value of an expression that computes factorial.</span><br><span class="hljs-string"></span><br><span class="hljs-string">    &gt;&gt;&gt; make_anonymous_factorial()(5)</span><br><span class="hljs-string">    120</span><br><span class="hljs-string">    &gt;&gt;&gt; from construct_check import check</span><br><span class="hljs-string">    &gt;&gt;&gt; # ban any assignments or recursion</span><br><span class="hljs-string">    &gt;&gt;&gt; check(HW_SOURCE_FILE, &#x27;make_anonymous_factorial&#x27;, [&#x27;Assign&#x27;, &#x27;AugAssign&#x27;, &#x27;FunctionDef&#x27;, &#x27;Recursion&#x27;])</span><br><span class="hljs-string">    True</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;YOUR_EXPRESSION_HERE&#x27;</span><br></code></pre></td></tr></table></figure><h3 id="é—®é¢˜åˆ†æ"><a href="#é—®é¢˜åˆ†æ" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h3><p>é¢˜è®¾è¦æ±‚æˆ‘ä»¬æ„å»ºä¸€ä¸ªå¯ä»¥æ±‚<code>n</code>çš„é˜¶ä¹˜çš„é€’å½’å‡½æ•°ã€‚</p><h4 id="ä¸€èˆ¬å®ç°"><a href="#ä¸€èˆ¬å®ç°" class="headerlink" title="ä¸€èˆ¬å®ç°"></a>ä¸€èˆ¬å®ç°</h4><p>åœ¨æˆ‘ä»¬çš„è®¤è¯†ä¸­ï¼Œè§£å†³è¿™æ ·çš„é—®é¢˜é€šå¸¸å¯ä»¥ä½¿ç”¨è¿™æ ·çš„é€’å½’å‡½æ•°æ¥è§£å†³ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">factorialR</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> n * factorialR(n-<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p>åŒæ—¶æˆ‘ä»¬åˆçŸ¥é“ï¼š</p><h4 id="lambdaè¡¨è¾¾å¼"><a href="#lambdaè¡¨è¾¾å¼" class="headerlink" title="lambdaè¡¨è¾¾å¼"></a>lambdaè¡¨è¾¾å¼</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">lambda</span> x: x + <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°éœ€è¦ä¸€ä¸ªå‚æ•°xï¼Œå®ç°åŠŸèƒ½æ˜¯è¿”å›x + 1</p><p><strong>ä¾‹å¦‚</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>f1 = <span class="hljs-keyword">lambda</span> x: x + <span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>f1(<span class="hljs-number">2</span>)<br><span class="hljs-number">3</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>(<span class="hljs-keyword">lambda</span> x: x + <span class="hljs-number">1</span>)(<span class="hljs-number">2</span>)<br><span class="hljs-number">3</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>(<span class="hljs-keyword">lambda</span> f: <span class="hljs-keyword">lambda</span> x: f(x + <span class="hljs-number">1</span>))(f1)(<span class="hljs-number">2</span>)<br><span class="hljs-number">4</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>if_test = <span class="hljs-keyword">lambda</span> x: <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> x &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span> <span class="hljs-keyword">if</span> x == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> -<span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>[if_test(<span class="hljs-number">10</span>), if_test(<span class="hljs-number">0</span>), if_test(-<span class="hljs-number">10</span>)]<br>[<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure><h4 id="lambdaè¡¨è¾¾å¼çš„å®ç°"><a href="#lambdaè¡¨è¾¾å¼çš„å®ç°" class="headerlink" title="lambdaè¡¨è¾¾å¼çš„å®ç°"></a>lambdaè¡¨è¾¾å¼çš„å®ç°</h4><p>å¯ä»¥å¦‚ä¸‹ç”¨ä¸€ä¸ªæœ‰åç§°çš„lambdaè¡¨è¾¾å¼ç®€æ´çš„å®ç°è¿™ä¸ªé€’å½’</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>factlambda = <span class="hljs-keyword">lambda</span> x: <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> x == <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> x * factlambda(x - <span class="hljs-number">1</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>factlambda(<span class="hljs-number">5</span>)<br><span class="hljs-number">120</span><br></code></pre></td></tr></table></figure><h4 id="ä½†æ˜¯ï¼ï¼ï¼"><a href="#ä½†æ˜¯ï¼ï¼ï¼" class="headerlink" title="ä½†æ˜¯ï¼ï¼ï¼"></a>ä½†æ˜¯ï¼ï¼ï¼</h4><p>é¢˜ç›®çš„è¦æ±‚æ˜¯è®©æˆ‘ä»¬è¾“å‡ºä¸€ä¸ªåŒ¿åçš„lambdaå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯å®ƒä¸å¯ä»¥æœ‰åå­—ï¼Œç†è®ºä¸Šä¸å¯ä»¥è°ƒç”¨è‡ªå·±ï¼åŒæ—¶é¢˜ç›®ä¸ºäº†é˜²æ­¢æˆ‘ä»¬å·é¸¡ï¼Œä¼šåœ¨ä»£ç ä¸­æ£€æŸ¥ä½ æœ‰æ²¡æœ‰èµ‹å€¼ï¼Œå®šä¹‰å‡½æ•°ï¼Œè°ƒç”¨è‡ªèº«å‡½æ•°ä»¥å®ç°é€’å½’çš„åŠŸèƒ½ã€‚</p><p>æœ‰å¦‚ä¸‹ç­”æ¡ˆï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">make_anonymous_factorial</span>():<br>    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">lambda</span> fact: <span class="hljs-keyword">lambda</span> k: fact(fact,k))(<span class="hljs-keyword">lambda</span> factcopy, k: <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> k == <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> k * factcopy(factcopy,k-<span class="hljs-number">1</span>))<br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç­”æ¡ˆä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹æµç¨‹ï¼š</p><ol><li><p>å®šä¹‰ä¸€ä¸ª lambda å®ƒéœ€è¦ä¸€ä¸ªå‚æ•° factï¼Œå®ƒçš„åŠŸèƒ½æ˜¯è¿”å›ä¸€ä¸ªéœ€è¦ä¸€ä¸ªå‚æ•°kçš„å‡½æ•°ï¼Œå¹¶ä¸”æŒ‡å®šfactçš„å‚æ•°æ•°ç›®ä¸ºä¸¤ä¸ª</p></li><li><p>åœ¨å³ä¾§çš„æ‹¬å·ä¸­ï¼Œæ•´ä¸ªå½¢æˆä¸€ä¸ªlambda functionï¼Œä½œä¸ºå·¦ä¾§æ‹¬å·ä¸­çš„factå‚æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°<code>factcopy</code>,<code>k</code>å¹¶å¯¹kè¿›è¡Œåˆ¤æ–­ å®ç°ä¸€ä¸ªé˜¶ä¹˜çš„åŠŸèƒ½</p></li><li><p>æˆ‘ä»¬å¯ä»¥å°†å³ä¾§çš„å‡½æ•°ç†è§£ä¸º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">f</span>(<span class="hljs-params">factcopy, k</span>):<br>    <span class="hljs-keyword">if</span> k == <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> k * factcopy(factcopy, k - <span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p>è¿™æ ·ä¸€ä¸ªé€’å½’çš„æ¡†æ¶ï¼Œç›¸æ¯”è¾ƒæ™®é€šçš„é€’å½’ï¼Œæˆ‘ä»¬å‘ç°å‚æ•°å¤šäº†ä¸€ä¸ª<code>factcopy</code>è¿™æ˜¯å› ä¸ºï¼Œè¿™æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼æ²¡æœ‰å…¶ä»–äººå¸®ä½ è®°ä½ä½ å«ä»€ä¹ˆåå­—ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦çŸ¥é“è‡ªå·±å«ä»€ä¹ˆï¼Œæˆ‘ä»¬å¿…é¡»å†™ä¸€ä¸ªå°çº¸æ¡æŠŠè‡ªå·±çš„åå­—è®°ä½ï¼</p><p>ç°åœ¨è¿˜å·®ä¸€æ­¥ï¼šè®°è‡ªå·±åå­—çš„çº¸æ¡å‡†å¤‡å¥½äº†ï¼Œè¿˜å·®ææ¸…æ¥šè‡ªå·±å«ä»€ä¹ˆï¼</p></li><li><p>åœ¨è¿›è¡Œè°ƒç”¨çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæˆ‘ä»¬ä¸ºå·¦ä¾§çš„å‡½æ•°æä¾›ä¸€ä¸ªkï¼Œå·¦ä¾§åˆ™ä¼šè°ƒç”¨å³ä¾§å‡½æ•°ï¼Œå˜ä¸º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">lambda</span> k: f(f, k)<br></code></pre></td></tr></table></figure><blockquote><p>f æ˜¯æˆ‘ä»¬æ ¹æ®ä¸Šé¢çš„ç†è§£å‡è®¾çš„ä¸€ä¸ªåå­—ï¼Œä¾¿äºç†è§£è¿™ä¸ªå‡½æ•°çš„ç»“æ„ï¼Œå®é™…ä¸ŠåŒ¿åå‡½æ•°æ˜¯æ²¡æœ‰åå­—çš„</p></blockquote><p>ç°åœ¨ï¼Œæˆ‘ä»¬å°±èƒ½ç†è§£å·¦ä¾§æ‹¬å·å†…çš„åŠŸèƒ½äº†ï¼š</p><ol><li>å‘Šè¯‰å³ä¾§å‡½æ•°ï¼Œä½ å«è‡ªå·±ï¼ ç°åœ¨ä½ å¯ä»¥ç”¨ <code>è‡ªå·±(è‡ªå·±ï¼Œk)</code>è°ƒç”¨è‡ªå·±äº†ï¼</li><li>ç”Ÿæˆä¸€ä¸ªéœ€è¦ä¸€ä¸ªå‚æ•°å€¼<code>k</code>çš„å‡½æ•°</li></ol></li></ol><h3 id="æœ€ç»ˆè§£ç­”"><a href="#æœ€ç»ˆè§£ç­”" class="headerlink" title="æœ€ç»ˆè§£ç­”"></a>æœ€ç»ˆè§£ç­”</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">make_anonymous_factorial</span>():<br>    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">lambda</span> fact: <span class="hljs-keyword">lambda</span> k: fact(fact,k))(<span class="hljs-keyword">lambda</span> factcopy, k: <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> k == <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> k * factcopy(factcopy,k-<span class="hljs-number">1</span>))<br></code></pre></td></tr></table></figure><p>äºæ˜¯ï¼Œè¿™é¢˜åˆ°è¿™å°±ç»“æŸäº†ï¼Œå¼•å‡ºäº†ä¸‹é¢˜çš„é‡è¦æ¦‚å¿µä¸æ€æƒ³</p><h2 id="Problem-8-All-Ys-Has-Been"><a href="#Problem-8-All-Ys-Has-Been" class="headerlink" title="Problem 8: All-Ys Has Been"></a><a href="https://sicp.pascal-lab.net/2022/homework/hw03/3_2.html#problem-8-all-ys-has-been-0pts">Problem 8: All-Ys Has Been</a></h2><p>Given mystery function <code>Y</code>, complete <code>fib_maker</code> and <code>number_of_six_maker</code> so that the given doctests work correctly.</p><p>When <code>Y</code> is called on <code>fib_maker</code>, it should return a function which takes a positive integer <code>n</code> and returns the <code>n</code>th Fibonacci number.</p><p>Similarly, when <code>Y</code> is called on <code>number_of_six_maker</code> it should return a function that takes a positive integer <code>x</code> and returns the number of times the digit 6 appears in <code>x</code>.</p><blockquote><p>Hint: You may use the ternary operator <code>&lt;a&gt; if &lt;bool-exp&gt; else &lt;b&gt;</code>, which evaluates to <code>&lt;a&gt;</code> if <code>&lt;bool-exp&gt;</code> is truthy and evaluates to <code>&lt;b&gt;</code> if <code>&lt;bool-exp&gt;</code> is false-y.</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python">Y = <span class="hljs-keyword">lambda</span> f: (<span class="hljs-keyword">lambda</span> x: x(x))(<span class="hljs-keyword">lambda</span> x: f(<span class="hljs-keyword">lambda</span> z: x(x)(z)))<br>fib_maker = <span class="hljs-keyword">lambda</span> f: <span class="hljs-keyword">lambda</span> r: <span class="hljs-string">&#x27;YOUR_EXPRESSION_HERE&#x27;</span><br>number_of_six_maker = <span class="hljs-keyword">lambda</span> f: <span class="hljs-keyword">lambda</span> r: <span class="hljs-string">&#x27;YOUR_EXPRESSION_HERE&#x27;</span><br><br>my_fib = Y(fib_maker)<br>my_number_of_six = Y(number_of_six_maker)<br><br><span class="hljs-comment"># This code sets up doctests for my_fib and my_number_of_six.</span><br><br>my_fib.__name__ = <span class="hljs-string">&#x27;my_fib&#x27;</span><br>my_fib.__doc__=<span class="hljs-string">&quot;&quot;&quot;Given n, returns the nth Fibonacci nuimber.</span><br><span class="hljs-string"></span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>my_fib(0)</span><br><span class="hljs-string">0</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>my_fib(1)</span><br><span class="hljs-string">1</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>my_fib(2)</span><br><span class="hljs-string">1</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>my_fib(3)</span><br><span class="hljs-string">2</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>my_fib(4)</span><br><span class="hljs-string">3</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>my_fib(5)</span><br><span class="hljs-string">5</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><br>my_number_of_six.__name__ = <span class="hljs-string">&#x27;my_number_of_six&#x27;</span><br>my_number_of_six.__doc__=<span class="hljs-string">&quot;&quot;&quot;Return the number of 6 in each digit of a positive integer n.</span><br><span class="hljs-string"></span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>my_number_of_six(666)</span><br><span class="hljs-string">3</span><br><span class="hljs-string"><span class="hljs-meta">&gt;&gt;&gt; </span>my_number_of_six(123456)</span><br><span class="hljs-string">1</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure><h3 id="é—®é¢˜åˆ†æ-1"><a href="#é—®é¢˜åˆ†æ-1" class="headerlink" title="é—®é¢˜åˆ†æ"></a>é—®é¢˜åˆ†æ</h3><p>åœ¨ä¸Šé¢˜æ€æƒ³çš„åŸºç¡€ä¸Šï¼Œæœ¬é¢˜å®šä¹‰äº†ä¸€ä¸ªå¸¸é‡Y</p><blockquote><p>å…¶å®Yå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„Yç»„åˆå­</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">Y = <span class="hljs-keyword">lambda</span> f: (<span class="hljs-keyword">lambda</span> x: x(x))(<span class="hljs-keyword">lambda</span> x: f(<span class="hljs-keyword">lambda</span> z: x(x)(z)))<br></code></pre></td></tr></table></figure><p>æ”¹ä¸ªç†Ÿæ‚‰çš„å½¢å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">Y = <span class="hljs-keyword">lambda</span> f: (<span class="hljs-keyword">lambda</span> x: x(x))(<span class="hljs-keyword">lambda</span> xcopy: f(<span class="hljs-keyword">lambda</span> z: xcopy(xcopy)(z)))<br></code></pre></td></tr></table></figure><h4 id="Yç»„åˆå­è¯­ä¹‰åˆ†æ"><a href="#Yç»„åˆå­è¯­ä¹‰åˆ†æ" class="headerlink" title="Yç»„åˆå­è¯­ä¹‰åˆ†æ"></a>Yç»„åˆå­è¯­ä¹‰åˆ†æ</h4><p><code>Y</code>æŒ‡å‘äº†ä¸€ä¸ªlambdaå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½æ˜¯è·å¾—ä¸€ä¸ª<code>f</code>ï¼Œå¯¹å…¶è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p><ol><li><p>è§‚å¯Ÿè¿™ä¸ªå‡½æ•°çš„å†…éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå‡½æ•°çš„å·¦ä¾§æ‹¬å·å†…å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°éœ€è¦ä¸€ä¸ªè¾“å…¥å‚æ•°x</p><ul><li>å®ƒçš„åŠŸèƒ½æ˜¯è¿”å›ä¸€ä¸ªä¸œè¥¿ï¼Œå³å°†<code>x</code>ä½œä¸º<code>x</code>çš„å‚æ•°æ—¶ç”Ÿæˆçš„ä¸œè¥¿</li><li>åŒæ—¶å®ƒæŒ‡å®šäº†<code>x</code>çš„å‚æ•°æ•°ç›®ä¸ºä¸€ä¸ª</li><li>å®ƒçœ‹èµ·æ¥éå¸¸åƒæˆ‘ä»¬åœ¨ä¸Šé¢˜å½“ä¸­è¯´åˆ°çš„å‘Šè¯‰å³è¾¹é‚£ä¸ªç¬¨ç¬¨çš„å‡½æ•°è‡ªå·±å«åš<em><strong>â€œè‡ªå·±â€</strong></em></li></ul></li><li><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹å³è¾¹é‚£ä¸ªç¬¨ç¬¨çš„å‡½æ•°æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥æŠŠå®ƒå†™æˆè¿™æ ·</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">benben</span>(<span class="hljs-params">xcopy, f</span>):<br>    <span class="hljs-keyword">return</span>  f(<span class="hljs-keyword">lambda</span> z: xcopy(xcopy, f)(z))<br></code></pre></td></tr></table></figure></li><li><p>è¿™ä¸ªå‡½æ•°éœ€è¦ä¸€ä¸ªå‚æ•° <code>xcopy</code> <em>ï¼ˆä¸æ˜¯åˆšæ‰é‚£ä¸ªxï¼‰</em> ä»¥åŠä»å¤–é¢çš„lambdaè¡¨è¾¾å¼é‡Œæ‹¿è¿›æ¥çš„f</p><ul><li>å®ƒçš„åŠŸèƒ½æ˜¯ï¼Œåº”ç”¨æœ€å¤–ä¾§å‡½æ•°è¾“å…¥çš„å‡½æ•°<code>f</code>ï¼Œå¹¶å†æ¬¡éœ€è¦ä¸€ä¸ªå‚æ•°<code>z</code> </li><li>å‘Šè¯‰<code>benben</code>è‡ªå·±å«åš<code>benben</code> ä¹Ÿå°±æ˜¯ <code>xcopy = benben</code></li><li>æŒ‡å®šäº†æœ€å¤–ä¾§è¾“å…¥çš„få‡½æ•°å‚æ•°ä¸ºä¸€ä¸ªå‡½æ•°</li><li>åµŒå¥—åº”ç”¨äº†å¾ˆå¤šæ¬¡få½¢æˆäº†ä¸€ä¸ªå¯¹fçš„é€’å½’ï¼Œä½ ä¼šå‘ç°ï¼Œ<code>benben</code>è¿”å›çš„åº”è¯¥è¿˜æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå› ä¸º<code>xcopy(xcopy, f)</code>åä»éœ€è¦ä¸€ä¸ªå‚æ•°z</li><li>è¿™å¹¶ä¸éš¾ç†è§£ï¼Œå› ä¸ºfçš„æ‹¬å·å†…è¿˜æ˜¯ä¸€ä¸ª<code>lambda</code>è¡¨è¾¾å¼ï¼Œä»–éœ€è¦ä¸€ä¸ªå‚æ•°<code>z</code></li><li>åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬å¯¹æ•´ä¸ªå‡½æ•°çš„è¿è¡Œæ–¹å¼æœ‰äº†ç²—ç•¥çš„ç†è§£ï¼Œä½†ä»ä¸æ¸…æ¥šå…·ä½“çš„å®ç°æ–¹å¼</li></ul></li></ol><h4 id="Yç»„åˆå­åŠŸèƒ½å®ç°"><a href="#Yç»„åˆå­åŠŸèƒ½å®ç°" class="headerlink" title="Yç»„åˆå­åŠŸèƒ½å®ç°"></a>Yç»„åˆå­åŠŸèƒ½å®ç°</h4><p>ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨Yç»„åˆå­çš„è¿™äº›ç‰¹æ€§å®Œæˆä¸‹é¢ä¸¤ä¸ªä»»åŠ¡</p><h5 id="1-å®ç°ç¬¬nä¸ªFibonacciæ•°çš„è®¡ç®—"><a href="#1-å®ç°ç¬¬nä¸ªFibonacciæ•°çš„è®¡ç®—" class="headerlink" title="1. å®ç°ç¬¬nä¸ªFibonacciæ•°çš„è®¡ç®—"></a>1. å®ç°ç¬¬nä¸ªFibonacciæ•°çš„è®¡ç®—</h5><p><strong>é¢˜é¢ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">Y = <span class="hljs-keyword">lambda</span> f: (<span class="hljs-keyword">lambda</span> x: x(x))(<span class="hljs-keyword">lambda</span> x: f(<span class="hljs-keyword">lambda</span> z: x(x)(z)))<br>fib_maker = <span class="hljs-keyword">lambda</span> f: <span class="hljs-keyword">lambda</span> r: <span class="hljs-string">&#x27;YOUR_EXPRESSION_HERE&#x27;</span><br>my_fib = Y(fib_maker)<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬éœ€è¦å®Œå–„è¿™ä¸ª<code>fib_maker</code></p><p><strong>è§£ç­”</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">fib_maker = <span class="hljs-keyword">lambda</span> f: <span class="hljs-keyword">lambda</span> r: <span class="hljs-number">0</span> <span class="hljs-keyword">if</span> r == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> r == <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> f(r - <span class="hljs-number">1</span>) + f(r - <span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><p>æ­¤æ—¶ <code>fib_maker</code> å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œ å®ƒè¯·æ±‚ä¸€ä¸ªæ–¹æ³•f è¯·æ±‚ä¸€ä¸ªå‚æ•°r</p><p>é€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œ <code>fib_maker</code>è¿™ä¸ªå‡½æ•°ä¼šè¢«åº”ç”¨äº<code>f</code>ï¼Œåœ¨<code>benben</code>å‡½æ•°ä¸­ï¼Œæ¯æ¬¡éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡<code>fib_maker</code>ï¼Œæ¯æ¬¡è°ƒç”¨çš„ç»“æœï¼š</p><ul><li>å®ƒçš„å‚æ•°fæ˜¯ä¸€ä¸ªè¯·æ±‚æ›´é«˜é˜¶æ•°å‚æ•°çš„<code>fib_maker</code></li><li>å®ƒéœ€è¦ä¸€ä¸ªå½“å‰é˜¶æ•°çš„rå‚æ•°</li></ul><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å‘ç°ï¼Œ<code>benben</code>æ•™ä¼šäº†<code>fib_maker</code>æ¯æ¬¡è°ƒç”¨è‡ªå·±å¹¶è¯·æ±‚ä¸€ä¸ªå‚æ•°å“¦~</p><h5 id="2-å®ç°ç»Ÿè®¡ä¸€ä¸ªæ•°å­—ä¸­æœ‰å‡ ä¸ªå…­"><a href="#2-å®ç°ç»Ÿè®¡ä¸€ä¸ªæ•°å­—ä¸­æœ‰å‡ ä¸ªå…­" class="headerlink" title="2. å®ç°ç»Ÿè®¡ä¸€ä¸ªæ•°å­—ä¸­æœ‰å‡ ä¸ªå…­"></a>2. å®ç°ç»Ÿè®¡ä¸€ä¸ªæ•°å­—ä¸­æœ‰å‡ ä¸ªå…­</h5><p><strong>é¢˜é¢</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">Y = <span class="hljs-keyword">lambda</span> f: (<span class="hljs-keyword">lambda</span> x: x(x))(<span class="hljs-keyword">lambda</span> x: f(<span class="hljs-keyword">lambda</span> z: x(x)(z)))<br>number_of_six_maker = <span class="hljs-keyword">lambda</span> f: <span class="hljs-keyword">lambda</span> r: <span class="hljs-string">&#x27;YOUR_EXPRESSION_HERE&#x27;</span><br>my_number_of_six = Y(number_of_six_maker)<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬éœ€è¦å®Œå–„è¿™ä¸ª<code>my_number_of_six</code></p><p>è¿™ä¸ªåœ¨æœ¬æ¬¡ä½œä¸šå…ˆå‰çš„<code>Problem1</code>ä¸­æœ‰æåˆ°åŸé€’å½’å¼å‡½æ•°ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">number_of_six</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;Return the number of 6 in each digit of a positive integer n.</span><br><span class="hljs-string"></span><br><span class="hljs-string">    &gt;&gt;&gt; number_of_six(666)</span><br><span class="hljs-string">    3</span><br><span class="hljs-string">    &gt;&gt;&gt; number_of_six(123456)</span><br><span class="hljs-string">    1</span><br><span class="hljs-string"></span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">if</span> n % <span class="hljs-number">10</span> == <span class="hljs-number">6</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> + number_of_six(n // <span class="hljs-number">10</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> number_of_six(n // <span class="hljs-number">10</span>)<br></code></pre></td></tr></table></figure><p><strong>è§£ç­”</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">number_of_six_maker = <span class="hljs-keyword">lambda</span> f: <span class="hljs-keyword">lambda</span> r: <span class="hljs-number">0</span> <span class="hljs-keyword">if</span> r == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">1</span> + f(r // <span class="hljs-number">10</span>) <span class="hljs-keyword">if</span> r % <span class="hljs-number">10</span> == <span class="hljs-number">6</span> <span class="hljs-keyword">else</span> f(r // <span class="hljs-number">10</span>)<br></code></pre></td></tr></table></figure><p>æ­¤æ—¶<code>number_of_six_maker</code>æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒè¦æ±‚ä¸€ä¸ªæ–¹æ³•<code>f</code>ï¼Œä¸€ä¸ªå‚æ•°r</p><p>å’Œä¸Šé¢åŒæ ·çš„ï¼Œ<code>benben</code>å‡½æ•°ä½¿å¾—<code>number_of_six_maker</code>:</p><ul><li>çš„fæ˜¯è¯·æ±‚ä¸€ä¸ªå‚æ•°çš„æ›´é«˜é˜¶æ•°<code>number_of_six_maker</code></li><li>å®ƒéœ€è¦ä¸€ä¸ªå½“å‰é˜¶æ•°çš„å‚æ•°r</li></ul><p>è‡³æ­¤ï¼Œ<code>benben</code>åˆæ•™ä¼šäº†<code>number_of_six_maker</code>è‡ªå·±å«ä»€ä¹ˆï¼Œè‡ªå·±è°ƒç”¨è‡ªå·±ä¸è‡ªå·±åƒé¥­é¥­å“¦~</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿå­¦ä¼šäº†æ€ä¹ˆå»å®Œæˆä¸€ä¸ªåŒ¿åé€’å½’å‡½æ•°å“¦<em><strong>ï¼ˆè¿ç”¨Yç»„åˆå­ï¼‰</strong></em></p><h3 id="æœ€ç»ˆè§£ç­”-1"><a href="#æœ€ç»ˆè§£ç­”-1" class="headerlink" title="æœ€ç»ˆè§£ç­”"></a>æœ€ç»ˆè§£ç­”</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">fib_maker = <span class="hljs-keyword">lambda</span> f: <span class="hljs-keyword">lambda</span> r: <span class="hljs-number">0</span> <span class="hljs-keyword">if</span> r == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> r == <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> f(r - <span class="hljs-number">1</span>) + f(r - <span class="hljs-number">2</span>)<br>number_of_six_maker = <span class="hljs-keyword">lambda</span> f: <span class="hljs-keyword">lambda</span> r: <span class="hljs-number">0</span> <span class="hljs-keyword">if</span> r == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">1</span> + f(r // <span class="hljs-number">10</span>) <span class="hljs-keyword">if</span> r % <span class="hljs-number">10</span> == <span class="hljs-number">6</span> <span class="hljs-keyword">else</span> f(r // <span class="hljs-number">10</span>)<br></code></pre></td></tr></table></figure><h2 id="æˆ‘ä»¬ä»Yç»„åˆå­ä¸­è·å¾—äº†ä»€ä¹ˆ"><a href="#æˆ‘ä»¬ä»Yç»„åˆå­ä¸­è·å¾—äº†ä»€ä¹ˆ" class="headerlink" title="æˆ‘ä»¬ä»Yç»„åˆå­ä¸­è·å¾—äº†ä»€ä¹ˆ"></a>æˆ‘ä»¬ä»Yç»„åˆå­ä¸­è·å¾—äº†ä»€ä¹ˆ</h2><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬é€šè¿‡Yç»„åˆå­çš„æ–¹å¼ï¼Œä»…é€šè¿‡Î»Î»æ¼”ç®—çš„æ¦‚å¿µï¼Œå®ç°äº†ã€Œé€’å½’ã€çš„æ¦‚å¿µã€‚å› æ­¤ï¼Œå¯ä»¥è®ºè¯å‡ºã€Œé€’å½’ã€è¿™ä¸ªæ¦‚å¿µå¯ä»¥åœ¨å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­æ˜¯ã€Œæ´¾ç”Ÿã€çš„ï¼Œè€Œä¸éœ€è¦ã€ŒåŸç”Ÿã€æ”¯æŒã€‚æˆ‘ä»¬ä»…ä»…éœ€è¦Î»æ¼”ç®—å°±èƒ½æ¨¡æ‹Ÿè‡ªç„¶æ•°<code>ï¼ˆhw02-Higher-Order-Funtions-JFFï¼‰</code>ã€è¿ç®—<code>ï¼ˆhw02-Higher-Order-Funtions-JFFï¼‰</code>ã€é€’å½’è¿™äº›æ¦‚å¿µäº†ã€‚</p><blockquote><p>ç¬”è€…å› ä¸“ä¸šçŸ¥è¯†æœ‰é™ï¼Œå¦‚æœ‰ç–æ¼ï¼Œæ¬¢è¿äº¤æµï¼</p><p>Email: <a href="mailto:&#x77;&#x65;&#x6e;&#122;&#x65;&#106;&#105;&#110;&#50;&#48;&#x30;&#x34;&#x40;&#103;&#109;&#97;&#x69;&#x6c;&#46;&#99;&#111;&#x6d;">&#x77;&#x65;&#x6e;&#122;&#x65;&#106;&#105;&#110;&#50;&#48;&#x30;&#x34;&#x40;&#103;&#109;&#97;&#x69;&#x6c;&#46;&#99;&#111;&#x6d;</a></p><p>é‡‘æ–‡æ³½ Wenze Jin</p><p>Nanjing University</p></blockquote>]]></content>
    
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>å‡½æ•°å¼</tag>
      
      <tag>lambda</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>first_post</title>
    <link href="/2023/04/05/first-post/"/>
    <url>/2023/04/05/first-post/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€ç¯‡æ–‡ç« "><a href="#ç¬¬ä¸€ç¯‡æ–‡ç« " class="headerlink" title="ç¬¬ä¸€ç¯‡æ–‡ç« "></a>ç¬¬ä¸€ç¯‡æ–‡ç« </h1><p>Hiï¼Œè¿™é‡Œæ˜¯Wenze Jinçš„ä¸ªäººæŠ€æœ¯åšå®¢ã€‚</p><p>è¿™é‡Œå°†ç”¨æ¥åˆ†äº«ä¸€äº›å­¦ä¹ ç¬”è®°ä¸æŠ€æœ¯æ€§çš„å†…å®¹ï¼ŒåŒæ—¶ä¹Ÿä¼šåˆ†äº«ä¸€äº›å…³äºå½“ä¸‹ç§‘æŠ€çƒ­ç‚¹çš„è§‚ç‚¹ã€‚</p><p>å¦‚æœæœ‰æŠ€æœ¯æ€§çš„é—®é¢˜æ¬¢è¿äº¤æµğŸ‘</p><blockquote><p>æˆ‘çš„ Github: <a><a href="https://github.com/WenzeJin">https://github.com/WenzeJin</a></a></p></blockquote><p>ç”±äºæœ¬äººå­¦è¯†ç–æµ…ï¼Œä¸“ä¸šé—®é¢˜ä¸Šå¦‚æœ‰ç–æ¼ï¼Œè¿˜è¯·å„ä½æ–§æ­£ã€‚</p>]]></content>
    
    
    
    <tags>
      
      <tag>æ‚é¡¹</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
